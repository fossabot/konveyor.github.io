<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.109.0"><meta name=description content><link rel=icon href=/images/favicon.png type=image/png><title>Migrating virtual machines using the web console - Documentation for Konveyor projects</title><link href=/css/nucleus.css rel=stylesheet><link href=/css/fontawesome-all.min.css rel=stylesheet><link href=/css/hybrid.css rel=stylesheet><link href=/css/featherlight.min.css rel=stylesheet><link href=/css/perfect-scrollbar.min.css rel=stylesheet><link href=/css/auto-complete.css rel=stylesheet><link href=/css/atom-one-dark-reasonable.css rel=stylesheet><link href=/css/theme.css rel=stylesheet><link href=/css/tabs.css rel=stylesheet><link href=/css/hugo-theme.css rel=stylesheet><link href=/css/theme-konveyor.css rel=stylesheet><link href=/css/foo.css rel=stylesheet><link href=/css/bar.css rel=stylesheet><script src=/js/jquery-3.3.1.min.js></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><script>var dataLayer=window.dataLayer=window.dataLayer||[];dataLayer.push({page:"Migrating virtual machines using the web console",fileUniqID:"61923a2642203d233b7d22a053e941e8"})</script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-TKPDMS3")</script></head><body data-url=/forklift/migratingvms/migrateweb/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/><img src=/images/konveyor_logo.png></img></a>
<a href=https://github.com/konveyor/konveyor.github.io>Documentation source code</a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js></script>
<script type=text/javascript src=/js/auto-complete.js></script>
<script type=text/javascript>var baseurl="http://konveyor.github.io/"</script><script type=text/javascript src=/js/search.js></script></div><div class=highlightable><ul class=topics><li data-nav-id=/crane/ title=Crane class=dd-item><a href=/crane/><b>1 </b>Crane</a><ul><li data-nav-id=/crane/tutorials/ title=Tutorials class=dd-item><a href=/crane/tutorials/>Tutorials</a><ul><li data-nav-id=/crane/tutorials/statelessappmirror/ title="Stateless application mirror" class=dd-item><a href=/crane/tutorials/statelessappmirror/>Stateless application mirror</a></li><li data-nav-id=/crane/tutorials/migratek8cluster/ title="Migrating a Kubernetes cluster" class=dd-item><a href=/crane/tutorials/migratek8cluster/>Migrating a Kubernetes cluster</a></li></ul></li><li data-nav-id=/crane/tools/ title=Tools class=dd-item><a href=/crane/tools/>Tools</a><ul><li data-nav-id=/crane/tools/gitopsintegration/ title="Integrating GitOps" class=dd-item><a href=/crane/tools/gitopsintegration/>Integrating GitOps</a></li><li data-nav-id=/crane/tools/customplugins/ title="Developing custom plugins" class=dd-item><a href=/crane/tools/customplugins/>Developing custom plugins</a></li><li data-nav-id=/crane/tools/tunnelapi/ title="Tunnel API" class=dd-item><a href=/crane/tools/tunnelapi/>Tunnel API</a></li><li data-nav-id=/crane/tools/pluginmanager/ title="Plugin Manager" class=dd-item><a href=/crane/tools/pluginmanager/>Plugin Manager</a></li></ul></li><li data-nav-id=/crane/usingcrane/ title="Using Crane" class=dd-item><a href=/crane/usingcrane/>Using Crane</a><ul><li data-nav-id=/crane/usingcrane/step1export/ title="Step One: Export Resources" class=dd-item><a href=/crane/usingcrane/step1export/>Step One: Export Resources</a></li><li data-nav-id=/crane/usingcrane/step2transform/ title="Step Two: Transform Exports" class=dd-item><a href=/crane/usingcrane/step2transform/>Step Two: Transform Exports</a></li><li data-nav-id=/crane/usingcrane/step3apply/ title="Step Three: Apply Patches" class=dd-item><a href=/crane/usingcrane/step3apply/>Step Three: Apply Patches</a></li></ul></li><li data-nav-id=/crane/installation/ title="Installing Crane" class=dd-item><a href=/crane/installation/>Installing Crane</a></li></ul></li><li data-nav-id=/forklift/ title=Forklift class="dd-item
parent"><a href=/forklift/><b>2 </b>Forklift</a><ul><li data-nav-id=/forklift/migratingvms/ title="Migrating virtual machines" class="dd-item
parent"><a href=/forklift/migratingvms/>Migrating virtual machines</a><ul><li data-nav-id=/forklift/migratingvms/migrateoptions/ title="Migration plan options" class=dd-item><a href=/forklift/migratingvms/migrateoptions/>Migration plan options</a></li><li data-nav-id=/forklift/migratingvms/migratecli/ title="Migrating virtual machines using the command line" class=dd-item><a href=/forklift/migratingvms/migratecli/>Migrating virtual machines using the command line</a></li><li data-nav-id=/forklift/migratingvms/migrateweb/ title="Migrating virtual machines using the web console" class="dd-item active"><a href=/forklift/migratingvms/migrateweb/>Migrating virtual machines using the web console</a></li><li data-nav-id=/forklift/migratingvms/cancelmigrate/ title="Canceling a migration" class=dd-item><a href=/forklift/migratingvms/cancelmigrate/>Canceling a migration</a></li><li data-nav-id=/forklift/migratingvms/advancedmigrate/ title="Advanced migration options" class=dd-item><a href=/forklift/migratingvms/advancedmigrate/>Advanced migration options</a></li></ul></li><li data-nav-id=/forklift/installingforklift/ title="Installing Forklift" class=dd-item><a href=/forklift/installingforklift/>Installing Forklift</a><ul><li data-nav-id=/forklift/installingforklift/upgrade/ title="Upgrading Forklift" class=dd-item><a href=/forklift/installingforklift/upgrade/>Upgrading Forklift</a></li><li data-nav-id=/forklift/installingforklift/uninstall/ title="Uninstalling Forklift" class=dd-item><a href=/forklift/installingforklift/uninstall/>Uninstalling Forklift</a></li><li data-nav-id=/forklift/installingforklift/installation/ title="Installing the Forklift Operator" class=dd-item><a href=/forklift/installingforklift/installation/>Installing the Forklift Operator</a></li><li data-nav-id=/forklift/installingforklift/prereqs/ title=Prerequisites class=dd-item><a href=/forklift/installingforklift/prereqs/>Prerequisites</a></li></ul></li></ul></li><li data-nav-id=/move2kube/ title=Move2Kube class=dd-item><a href=/move2kube/><b>3 </b>Move2Kube</a><ul><li data-nav-id=/move2kube/concepts/ title=Concepts class=dd-item><a href=/move2kube/concepts/>Concepts</a></li><li data-nav-id=/move2kube/installation/ title=Installation class=dd-item><a href=/move2kube/installation/>Installation</a><ul><li data-nav-id=/move2kube/installation/installweb/ title="Web Interface" class=dd-item><a href=/move2kube/installation/installweb/>Web Interface</a></li><li data-nav-id=/move2kube/installation/installcli/ title="Command line tool" class=dd-item><a href=/move2kube/installation/installcli/>Command line tool</a></li></ul></li><li data-nav-id=/move2kube/commands/ title=Commands class=dd-item><a href=/move2kube/commands/>Commands</a></li><li data-nav-id=/move2kube/transformers/ title=Transformers class=dd-item><a href=/move2kube/transformers/>Transformers</a></li><li data-nav-id=/move2kube/tutorials/ title=Tutorials class=dd-item><a href=/move2kube/tutorials/>Tutorials</a><ul><li data-nav-id=/move2kube/tutorials/usingcli/ title="Using Move2Kube CLI" class=dd-item><a href=/move2kube/tutorials/usingcli/>Using Move2Kube CLI</a></li><li data-nav-id=/move2kube/tutorials/usingui/ title="Using Move2Kube UI" class=dd-item><a href=/move2kube/tutorials/usingui/>Using Move2Kube UI</a></li><li data-nav-id=/move2kube/tutorials/cfappstok8/ title="Migrating Enterprise Scale Cloud Foundry Apps to Kubernetes" class=dd-item><a href=/move2kube/tutorials/cfappstok8/>Migrating Enterprise Scale Cloud Foundry Apps to Kubernetes</a><ul><li data-nav-id=/move2kube/tutorials/cfappstok8/1collect/ title="1. Collect" class=dd-item><a href=/move2kube/tutorials/cfappstok8/1collect/>1. Collect</a></li><li data-nav-id=/move2kube/tutorials/cfappstok8/2plan/ title="2. Plan" class=dd-item><a href=/move2kube/tutorials/cfappstok8/2plan/>2. Plan</a></li><li data-nav-id=/move2kube/tutorials/cfappstok8/3transform/ title="3. Transform" class=dd-item><a href=/move2kube/tutorials/cfappstok8/3transform/>3. Transform</a></li></ul></li><li data-nav-id=/move2kube/tutorials/customizeoutput/ title="Customizing the output" class=dd-item><a href=/move2kube/tutorials/customizeoutput/>Customizing the output</a><ul><li data-nav-id=/move2kube/tutorials/customizeoutput/addcustfiledir/ title="Add custom files and directories in custom locations" class=dd-item><a href=/move2kube/tutorials/customizeoutput/addcustfiledir/>Add custom files and directories in custom locations</a></li><li data-nav-id=/move2kube/tutorials/customizeoutput/paramcustomfieldshelm/ title="Parameterizing custom fields in Helm Chart, Kustomize, OC templates" class=dd-item><a href=/move2kube/tutorials/customizeoutput/paramcustomfieldshelm/>Parameterizing custom fields in Helm Chart, Kustomize, OC templates</a></li><li data-nav-id=/move2kube/tutorials/customizeoutput/customannotationsyaml/ title="Add custom annotations to Kubernetes YAMLs" class=dd-item><a href=/move2kube/tutorials/customizeoutput/customannotationsyaml/>Add custom annotations to Kubernetes YAMLs</a></li><li data-nav-id=/move2kube/tutorials/customizeoutput/customgendockerfile/ title="Customize generated Dockerfile and built-in transformer behavior" class=dd-item><a href=/move2kube/tutorials/customizeoutput/customgendockerfile/>Customize generated Dockerfile and built-in transformer behavior</a></li></ul></li><li data-nav-id=/move2kube/tutorials/customkubeyaml/ title="Customize Kubernetes YAMLs to target specific clusters" class=dd-item><a href=/move2kube/tutorials/customkubeyaml/>Customize Kubernetes YAMLs to target specific clusters</a></li><li data-nav-id=/move2kube/tutorials/createhelmchartskustomize/ title="Create Helm-charts, Kustomize overlays from Kubernetes Yamls" class=dd-item><a href=/move2kube/tutorials/createhelmchartskustomize/>Create Helm-charts, Kustomize overlays from Kubernetes Yamls</a></li><li data-nav-id=/move2kube/tutorials/createwincontainersnet/ title="Create and deploy Windows .NET containers" class=dd-item><a href=/move2kube/tutorials/createwincontainersnet/>Create and deploy Windows .NET containers</a></li><li data-nav-id=/move2kube/tutorials/migratedeploynetcore/ title="Migrate and deploy .NET Core applications to Kubernetes" class=dd-item><a href=/move2kube/tutorials/migratedeploynetcore/>Migrate and deploy .NET Core applications to Kubernetes</a></li><li data-nav-id=/move2kube/tutorials/migratedockercomposekube/ title="Migrate from Docker Compose to Kubernetes" class=dd-item><a href=/move2kube/tutorials/migratedockercomposekube/>Migrate from Docker Compose to Kubernetes</a></li><li data-nav-id=/move2kube/tutorials/migratedeploycfapps/ title="Migrate and deploy Cloud Foundry applications to Kubernetes" class=dd-item><a href=/move2kube/tutorials/migratedeploycfapps/>Migrate and deploy Cloud Foundry applications to Kubernetes</a></li><li data-nav-id=/move2kube/tutorials/runnoninteractively/ title="Run transforms non-interactively" class=dd-item><a href=/move2kube/tutorials/runnoninteractively/>Run transforms non-interactively</a></li></ul></li></ul></li><li data-nav-id=/tackle/ title=Tackle class=dd-item><a href=/tackle/><b>4 </b>Tackle</a><ul><li data-nav-id=/tackle/upgradeto2/ title="Upgrading to 2.0" class=dd-item><a href=/tackle/upgradeto2/>Upgrading to 2.0</a></li><li data-nav-id=/tackle/admintasks/ title="Administrator view tasks" class=dd-item><a href=/tackle/admintasks/>Administrator view tasks</a></li><li data-nav-id=/tackle/views/ title=Views class=dd-item><a href=/tackle/views/>Views</a></li><li data-nav-id=/tackle/instances/ title="Seeding Instances" class=dd-item><a href=/tackle/instances/>Seeding Instances</a></li><li data-nav-id=/tackle/installation/ title="Installing Tackle" class=dd-item><a href=/tackle/installation/>Installing Tackle</a></li><li data-nav-id=/tackle/assessanalyze/ title="Assessing and analyzing applications" class=dd-item><a href=/tackle/assessanalyze/>Assessing and analyzing applications</a></li><li data-nav-id=/tackle/addapps/ title="Adding applications" class=dd-item><a href=/tackle/addapps/>Adding applications</a></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>Migrating virtual machines using the web console</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#adding-source-providers>Adding source providers</a><ul><li><a href=#adding-a-vmware-source-provider>Adding a VMware source provider</a></li><li><a href=#adding-an-ovirt-source-provider>Adding an oVirt source provider</a></li></ul></li><li><a href=#selecting-a-migration-network-for-a-source-provider>Selecting a migration network for a source provider</a></li><li><a href=#adding-a-kubevirt-destination-provider>Adding a KubeVirt destination provider</a></li><li><a href=#selecting-a-migration-network-for-a-kubevirt-provider>Selecting a migration network for a KubeVirt provider</a></li><li><a href=#creating-a-network-mapping>Creating a network mapping</a></li><li><a href=#creating-a-storage-mapping>Creating a storage mapping</a></li><li><a href=#creating-a-migration-plan>Creating a migration plan</a><ul><li><a href=#creating-a-new-network-mapping>Creating a new network mapping</a></li><li><a href=#creating-a-new-storage-mapping>Creating a new storage mapping</a></li></ul></li><li><a href=#running-a-migration-plan>Running a migration plan</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Migrating virtual machines using the web console</h1><p>Migrate virtual machines (VMs) to KubeVirt using the Forklift web console by performing the folloing tasks:</p><ul><li>Adding source and destination providers</li><li>Creating network and storage mapping</li><li>Creating and running a migration plan</li></ul><p><strong>Prerequisites</strong></p><ul><li>Ensure that all <a href=https://konveyor.github.io/forklift/installingforklift/prereqs/>Prerequisites</a> are set.</li><li>VMware only: Create a <a href=https://forklift-docs.konveyor.io/documentation/doc-Migration_Toolkit_for_Virtualization/master/index.html#creating-vddk-image_forklift>VMware Virtual Disk Development Kit (VDDK)</a> image.</li></ul><h2 id=adding-source-providers>Adding source providers</h2><p>Follow the procedures below to add VMware or oVirt source providers using the Forklift web console.</p><h3 id=adding-a-vmware-source-provider>Adding a VMware source provider</h3><p>Add a VMware source provider by using the Forklift web console.</p><p><strong>Prerequisites</strong></p><ul><li>VMware Virtual Disk Development Kit (VDDK) image in a secure registry that is accessible to all clusters.</li></ul><p><strong>Procedure</strong></p><ol><li>Open the Forklift web console.</li><li>Click <strong>Providers</strong>, then <strong>Add provider</strong>.</li><li>Select <strong>VMware</strong> from the <strong>Type</strong> list.</li><li>Fill in the following fields:<ul><li><strong>Name:</strong> Name to display in the list of providers</li><li><strong>Hostname or IP address:</strong> vCenter host name or IP address</li><li><strong>Username:</strong> vCenter user, for example, <a href=mailto:user@vsphere.local>user@vsphere.local</a></li><li><strong>Password:</strong> vCenter user password</li><li><strong>VDDK init image:</strong> VDDKInitImage path</li></ul></li><li>Click <strong>Verify certificate</strong>.</li><li>Select the <strong>I trust the authenticity of this certificate</strong> checkbox.</li><li>Click <strong>Add</strong> to add and save the provider.</li></ol><p>The source provider appears in the list of providers.</p><h3 id=adding-an-ovirt-source-provider>Adding an oVirt source provider</h3><p>Add an oVirt source provider by using the Forklift web console.</p><p><strong>Prerequisites</strong></p><ul><li>CA certificate of the Engine.</li></ul><p><strong>Procedure</strong></p><ol><li>Open the Forklift web console.</li><li>Click <strong>Providers</strong>, then <strong>Add provider</strong>.</li><li>Select <strong>Red Hat Virtualization</strong> from the <strong>Type</strong> list.</li><li>Fill in the following fields:</li></ol><ul><li><strong>Name:</strong> Name display in the list of providers</li><li><strong>Hostname or IP address:</strong> Engine host name or IP address</li><li><strong>Username:</strong> Engine user</li><li><strong>Password:</strong> Engine password</li><li><strong>CA certificate:</strong> CA certificate of the Engine</li></ul><ol start=5><li>Click <strong>Add</strong> to add and save the provider.</li></ol><p>The source provider appears in the list of providers.</p><h2 id=selecting-a-migration-network-for-a-source-provider>Selecting a migration network for a source provider</h2><p>Select a migration network in the Forklift web console for a source provider to reduce risk to the source environment and to improve performance.</p><blockquote><p><strong>Important:</strong> Using the default network for migration can result in poor performance because the network might not have sufficient bandwidth which can have a negative effect on the source platform because the disk transfer operation might saturate the network.</p></blockquote><p><strong>Prerequisites</strong></p><ul><li>The migration network must have a minimum speed of 10 Gbps for disk transfer.</li><li>The migration network must be accessible to the KubeVirt nodes through the default gateway.</li><li>The source virtual disks are copied by a pod that is connected to the pod network of the target namespace.</li><li>The migration network must have jumbo frames enabled.</li></ul><p><strong>Procedure</strong></p><ol><li>Open the Forklift web console.</li><li>Click <strong>Providers</strong>, then the <strong>oVirt8</strong> or <strong>VMware</strong> tab.</li><li>Click the <strong>host number</strong> in the <strong>Hosts</strong> column beside a provider to view a list of hosts.</li><li>Select one or more hosts and click <strong>Select migration network</strong>.</li><li>Select a network.</li></ol><blockquote><p><strong>Note:</strong> Clear the selection by selecting the default network.</p></blockquote><ol start=6><li>Complete the following fields:</li></ol><p>For VMware:</p><ul><li><strong>ESXi host admin username:</strong> Specify the ESXi host admin user, for example, root.</li><li><strong>ESXi host admin password:</strong> Specify the ESXi host admin password.</li></ul><p>For oVirt:</p><ul><li><strong>Username:</strong> Specify the Engine user.</li><li><strong>Password:</strong> Specify the Engine password.</li></ul><ol start=7><li>Click <strong>Save</strong>.</li><li>Verify that the status of each host shows Ready.</li></ol><blockquote><p><strong>Note:</strong> If a host status is not Ready, the host might be unreachable on the migration network or the credentials might be incorrect. Modify the host configuration and save the changes to correct.</p></blockquote><h2 id=adding-a-kubevirt-destination-provider>Adding a KubeVirt destination provider</h2><p>Add a KubeVirt destination provider to the Forklift web console in addition to the default KubeVirt destination provider.</p><p><strong>Prerequisites</strong></p><ul><li>KubeVirt service account token with cluster-admin privileges.</li></ul><p><strong>Procedure</strong></p><ol><li>Open the Forklift web console.</li><li>Click <strong>Providers</strong>, the <strong>Add provider</strong>.</li><li>Select <strong>KubeVirt</strong> from the <strong>Type</strong> list.</li><li>Complete the following fields:</li></ol><ul><li><strong>Cluster name:</strong> Specify the cluster name to display in the list of target providers.</li><li><strong>URL:</strong> Specify the API endpoint of the cluster.</li><li><strong>Service account token:</strong> Specify the cluster-admin service account token.</li></ul><ol start=5><li>Click <strong>Check connection</strong> to verify the credentials.</li><li>Click <strong>Add</strong>.</li></ol><p>The provider appears in the list of providers.</p><h2 id=selecting-a-migration-network-for-a-kubevirt-provider>Selecting a migration network for a KubeVirt provider</h2><p>Select a default migration network for a KubeVirt provider in the Forklift web console to improve performance. The default migration network is used to transfer disks to the namespaces in which it is configured.</p><blockquote><p><strong>Note:</strong> If a migration network is not selected, the default migration network is the pod network which might not be optimal for disk transfer.</p></blockquote><p>Override the default migration network of the provider by selecting a different network when creating a migration plan.</p><p><strong>Procedure</strong></p><ol><li>Open the Forklift web console.</li><li>Click <strong>Providers</strong> then the <strong>KubeVirt tab</strong>.</li><li>Select a <strong>provider</strong> and click <strong>Select migration network</strong>.</li><li>Select a <strong>network</strong> from the list of available networks and click <strong>Select</strong>.</li><li>Click the <strong>network number</strong> in the <strong>Networks column</strong> beside the provider to verify that the selected network is the default migration network.</li></ol><h2 id=creating-a-network-mapping>Creating a network mapping</h2><p>Create one or more network mappings using the Forklift web console to map source networks to KubeVirt networks.</p><p><strong>Prerequisites</strong></p><ul><li>Source and target providers added to the web console.</li></ul><blockquote><p><strong>Note:</strong> If more than one source and target network are mapped, each additional KubeVirt network requires its own network attachment definition.</p></blockquote><p><strong>Procedure</strong></p><ol><li>Click <strong>Mappings</strong>.</li><li>Click the <strong>Network tab</strong> then click <strong>Create mapping</strong>.</li><li>Complete the following fields:</li></ol><ul><li><strong>Name:</strong> Enter a name to display in the network mappings list.</li><li><strong>Source provider:</strong> Select a source provider.</li><li><strong>Target provider:</strong> Select a target provider.</li><li><strong>Source networks:</strong> Select a source network.</li><li><strong>Target namespaces/networks:</strong> Select a target network.</li></ul><ol start=4><li><strong>Optional:</strong> Click <strong>Add</strong> to create additional network mappings or to map multiple source networks to a single target network.</li></ol><blockquote><p><strong>Note:</strong> If an additional network mapping is created, select the network attachment definition as the target network.</p></blockquote><ol start=5><li>Click <strong>Create</strong>.</li></ol><p>The network mapping is displayed on the Network mappings screen.</p><h2 id=creating-a-storage-mapping>Creating a storage mapping</h2><p>Create a storage mapping using the Forklift web console to map source data stores to KubeVirt storage classes.</p><p><strong>Prerequisites</strong></p><ul><li>Source and target providers added to the web console.</li><li>Local and shared persistent storage that support VM migration.</li></ul><p><strong>Procedure</strong></p><ol><li>Click <strong>Mappings</strong>.</li><li>Click the <strong>Storage tab</strong> and then click <strong>Create mapping</strong>.</li><li>Set the following parameters:</li></ol><ul><li>Name of the storage mapping.</li><li>Source provider</li><li>Target provider</li><li>VMware:<ul><li>Source datastore</li><li>Target storage class</li></ul></li><li>oVirt:<ul><li>Source storage domain</li><li>Target storage class</li></ul></li></ul><ol start=4><li><strong>Optional:</strong> Click <strong>Add</strong> to create additional storage mappings or to map multiple source data stores or storage domains to a single storage class.</li><li>Click <strong>Create</strong>.</li></ol><p>The mapping is displayed on the Storage mappings page.</p><h2 id=creating-a-migration-plan>Creating a migration plan</h2><p>Create a migration plan by using the Forklift web console.</p><p>A migration plan allows virtual machines to be grouped and migrated together or with the same migration parameters. For example: a percentage of the members of a cluster or a complete application.</p><p>Configure a hook to run an Ansible playbook or custom container image during a specified stage of the migration plan.</p><p><strong>Prerequisites</strong></p><ul><li>If Forklift is not installed on the target cluster, add a target provider on the Providers page of the web console.</li></ul><p><strong>Procedure</strong></p><ol><li>Open the web console.</li><li>Click <strong>Migration plans</strong> then click <strong>Create migration plan</strong>.</li><li>Complete the following fields:</li></ol><ul><li><strong>Plan name:</strong> Enter a migration plan name to display in the migration plan list.</li><li><strong>Plan description:</strong> Optional: Brief description of the migration plan.</li><li><strong>Source provider:</strong> Select a source provider.</li><li><strong>Target provider:</strong> Select a target provider.</li><li><strong>Target namespace:</strong> Type to search for an existing target namespace or create a new namespace.</li></ul><ol start=4><li>Change the migration transfer network for this plan by clicking <strong>Select a different network</strong>, selecting a <strong>network</strong> from the list, and clicking <strong>Select</strong>.</li></ol><p>If a migration transfer network is defined for the KubeVirt provider and if the network is in the target namespace, that network is the default network for all migration plans. Otherwise, the pod network is used.</p><ol start=5><li>Click <strong>Next</strong>.</li><li>Select options to filter the list of source VMs and click <strong>Next</strong>.</li><li>Select the VMs to migrate and then click <strong>Next</strong>.</li><li>Select an existing network mapping or create a new network mapping.</li></ol><h3 id=creating-a-new-network-mapping>Creating a new network mapping</h3><p>Follow the steps below to create a network mapping.</p><p><strong>Procedure</strong></p><ol><li>Select a target network for each source network.</li><li><strong>Optional:</strong> Select <strong>Save mapping</strong> to use again and enter a network mapping name.</li><li>Click <strong>Next</strong>.</li><li>Select an existing storage mapping or create a new storage mapping.</li></ol><h3 id=creating-a-new-storage-mapping>Creating a new storage mapping</h3><p>Follow the steps below to create a storage mapping.</p><p><strong>Procedure</strong></p><ol><li>Select a target storage class for each VMware data store or oVirt storage domain.</li><li><strong>Optional:</strong> Select <strong>Save mapping</strong> to use again and enter a storage mapping name.</li><li>Click <strong>Next</strong>.</li><li>Select a <strong>migration type</strong> and click <strong>Next</strong>.</li></ol><ul><li><strong>Cold migration:</strong> The source VMs are stopped while the data is copied.</li><li><strong>Warm migration:</strong> The source VMs run while the data is copied incrementally and the cutover runs later which stops the VMs and copies the remaining VM data and metadata.</li></ul><ol start=5><li><strong>Optional:</strong> Create a migration hook to run an Ansible playbook before or after migration:</li><li>Click <strong>Add</strong> hook.</li><li>Select the step when the hook will run.</li><li>Select a hook definition:</li></ol><ul><li><strong>Ansible playbook:</strong> Browse to the Ansible playbook or paste it into the field.</li><li><strong>Custom container image:</strong> Enter the image path: &lt;registry_path>/&lt;image_name>: to not use the default hook-runner image.</li></ul><blockquote><p><strong>Important:</strong> The registry must be accessible to the OKD cluster.</p></blockquote><ol start=9><li>Click <strong>Next</strong>.</li><li>Review the migration plan and click <strong>Finish</strong>.</li></ol><p>The migration plan is saved in the migration plan list.</p><ol start=11><li>Click the <strong>Options</strong> menu kebab of the migration plan and select <strong>View details</strong> to verify the migration plan details.</li></ol><h2 id=running-a-migration-plan>Running a migration plan</h2><p>Run a migration plan and view its progress in the Forklift web console.</p><p><strong>Prerequisites</strong></p><ul><li>Valid migration plan.</li></ul><p><strong>Procedure</strong></p><ol><li>Click <strong>Migration plans</strong>.</li></ol><p>The Migration plans list displays the source and target providers, the number of virtual machines (VMs) being migrated, and the status of the plan.</p><ol start=2><li>Click <strong>Start</strong> beside a migration plan to start the migration.</li></ol><blockquote><p>Warm migration only: When the precopy stage starts.</p><ol><li>Click <strong>Cutover</strong> to complete the migration.</li><li>Expand a migration plan to view the migration details.</li></ol></blockquote><p>The migration details screen displays the migration start and end time, the amount of data copied, and a progress pipeline for each VM being migrated.</p><ol start=3><li>Expand a VM to view the migration steps, elapsed time of each step, and its state.</li></ol><p><a href=https://github.com/konveyor/konveyor.github.io/blob/main/content/Forklift/MigratingVMs/migrateweb.md>Source</a></p><footer class=footline></footer></div></div><div id=navigation></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js></script>
<script src=/js/perfect-scrollbar.min.js></script>
<script src=/js/perfect-scrollbar.jquery.min.js></script>
<script src=/js/jquery.sticky.js></script>
<script src=/js/featherlight.min.js></script>
<script src=/js/highlight.pack.js></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js></script>
<script src=/js/learn.js></script>
<script src=/js/hugo-learn.js></script>
<script src=https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKPDMS3" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript></body></html>